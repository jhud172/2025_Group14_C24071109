<div th:fragment="styles">
    <link rel="stylesheet" href="/css/navBar.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</div>

<div th:fragment="content">
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8 space-y-6">
        <div class="flex justify-between items-center mb-6"><h2 class="text-xl font-bold text-gray-900">All Health Records</h2></div>

        <div th:if="${param.success}">
            <div class="bg-gray-50 p-4 rounded border border-gray-200 mb-6"><p class="text-sm text-gray-700">Health record saved successfully!</p></div>
        </div>

        <div class="bg-white rounded border border-gray-200 overflow-hidden">
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left font-semibold text-gray-900">Date</th>
                        <th class="px-6 py-3 text-left font-semibold text-gray-900">Blood Pressure</th>
                        <th class="px-6 py-3 text-left font-semibold text-gray-900">Weight</th>
                        <th class="px-6 py-3 text-left font-semibold text-gray-900">Activity</th>
                        <th class="px-6 py-3 text-left font-semibold text-gray-900">Action</th>
                    </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 bg-white">
                    <tr th:each="rec : ${records}">
                        <td class="px-6 py-4 whitespace-nowrap text-gray-900" th:text="${rec.baselineDate}"></td>
                        <td class="px-6 py-4 whitespace-nowrap text-gray-900" th:text="${rec.systolicBloodPressure + '/' + rec.diastolicBloodPressure}"></td>
                        <td class="px-6 py-4 whitespace-nowrap text-gray-900" th:text="${rec.weightKg} + ' kg'"></td>
                        <td class="px-6 py-4 whitespace-nowrap text-gray-900" th:text="${rec.activityLevel}"></td>
                        <td class="px-6 py-4 whitespace-nowrap"><a th:href="@{'/health-record/' + ${rec.id}}" class="text-blue-600 hover:underline">View</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<th:block th:with="pageTitle='Health Records', pageStyles=~{::styles}, content=~{::content}" th:replace="~{base :: layout(${pageTitle}, ~{::styles}, ~{::content}, ${null})}"></th:block>
