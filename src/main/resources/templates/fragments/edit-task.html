<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="editForm(task)">
    <div th:id="'edit-' + ${task.id}" class="hidden fade-expand mt-4 p-6 rounded-2xl bg-white/80 backdrop-blur border border-gray-200 shadow-xl">

        <form th:action="@{'/calendar/task/' + ${task.id} + '/edit-inline'}" method="post" class="space-y-5">
            <input type="hidden" name="date" th:value="${task.date}">
            <input type="hidden" name="completed" th:value="${task.completed}">
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">Title</label>
                <input name="title" th:value="${task.title}" class="w-full p-3 rounded-xl border border-gray-300 shadow-inner focus:ring-2 focus:ring-blue-500 transition">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">Time</label>
                <input type="time" name="time" th:value="${#temporals.format(task.time, 'HH:mm')}" class="w-full p-3 rounded-xl border border-gray-300 shadow-inner focus:ring-2 focus:ring-blue-500 transition">
            </div>
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-1">Notes</label>
                <textarea name="notes" class="w-full p-3 rounded-xl border border-gray-300 shadow-inner h-28 focus:ring-2 focus:ring-blue-500 transition" th:text="${task.notes}"></textarea>
            </div>
            <div class="flex items-center gap-3">
                <label class="checkbox-wrapper">
                    <input type="checkbox" name="exercise" th:checked="${task.exercise}">
                    <span class="checkbox-custom"></span>
                </label>
                <span class="text-gray-700">Exercise Task</span>
            </div>
            <div class="flex justify-end gap-4 pt-2">
                <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition">Save</button>
                <button type="button" th:onclick="'toggleEdit(' + ${task.id} + ')'" class="px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-900 rounded-xl font-semibold transition">Cancel</button>
            </div>
        </form>

    </div>
</th:block>
</html>
